---
title: "Claude Code Actionã§App Storeãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹"
emoji: "ğŸ“"
type: "tech"
topics: ["githubactions", "ai", "ios", "automation", "claude"]
published: true
publication_name: "lclco"
---

ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã‚’ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹ãŸã³ã«ã€ã“ã‚“ãªä½œæ¥­ã‚’ã—ã¦ã„ã¾ã›ã‚“ã‹ï¼Ÿ

- ã‚³ãƒŸãƒƒãƒˆå±¥æ­´ã‚’è¦‹ãªãŒã‚‰ã€Œã“ã‚Œã¯æ›¸ãï¼Ÿæ›¸ã‹ãªã„ï¼Ÿã€ã‚’åˆ¤æ–­
- ã€Œäº‹å‰ãƒ­ãƒ¼ãƒ‰å®Ÿè£…ã€â†’ã€Œèª­ã¿è¾¼ã¿ãŒé€Ÿããªã‚Šã¾ã—ãŸã€ã®ã‚ˆã†ã«æŠ€è¡“ç”¨èªã‚’ç¿»è¨³
- 300-500æ–‡å­—ã«åã¾ã‚‹ã‚ˆã†ã«æ–‡ç« ã‚’èª¿æ•´
- å°‚é–€ç”¨èªãŒæ®‹ã£ã¦ã„ãªã„ã‹ãƒã‚§ãƒƒã‚¯
- ãƒˆãƒ¼ãƒ³ãŒå‰å‘ãã§æ˜ã‚‹ã„ã‹ç¢ºèª

ãã“ã¾ã§æ™‚é–“ã¯ã‹ã‹ã‚‰ãªã„ã‚‚ã®ã®ã€**æ¯å›åŒã˜ã‚ˆã†ãªã“ã¨ã‚’ç¹°ã‚Šè¿”ã™ã®ã¯é¢å€’**ã§ã™ã‚ˆã­ã€‚ã—ã‹ã‚‚è¤‡æ•°äººã§æ›¸ãã¨å“è³ªãŒãƒãƒ©ãƒãƒ©ã«ãªã‚‹ã€‚

ã€Œå¤‰æ›´å·®åˆ†ã‹ã‚‰è‡ªå‹•ã§ã„ã„æ„Ÿã˜ã«ç”Ÿæˆã—ã¦ãã‚ŒãŸã‚‰æ¥½ãªã®ã«...ã€

ãã“ã§ã€GitHub Actionsã¨Claude Code Actionã‚’ä½¿ã£ã¦ã€å¤‰æ›´å·®åˆ†ã‹ã‚‰è‡ªå‹•ã§ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã™ã‚‹ä»•çµ„ã¿ã‚’ä½œã‚Šã¾ã—ãŸã€‚ã“ã®è¨˜äº‹ã§ã¯ã€ãã®æ–¹æ³•ã‚’è©³ã—ãè§£èª¬ã—ã¾ã™ã€‚

## ã“ã®è¨˜äº‹ã§å¾—ã‚‰ã‚Œã‚‹ã“ã¨

- ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆè‡ªå‹•ç”Ÿæˆã®ä»•çµ„ã¿å…¨ä½“åƒ
- AIç”Ÿæˆã®å“è³ªã‚’æ‹…ä¿ã™ã‚‹ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³è¨­è¨ˆãƒã‚¦ãƒã‚¦
- GitHub Actionsã¨ã®çµ±åˆæ–¹æ³•
- ã™ãã«ä½¿ãˆã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«
- å®Ÿéš›ã®ç”Ÿæˆä¾‹ã¨ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

## è‡ªå‹•åŒ–ã®å…¨ä½“åƒ

```mermaid
graph LR
    A[ãƒªãƒªãƒ¼ã‚¹ãƒ–ãƒ©ãƒ³ãƒä½œæˆ] --> B[GitHub Actionsèµ·å‹•]
    B --> C[ã‚³ãƒŸãƒƒãƒˆå±¥æ­´åé›†]
    C --> D[Claude Code Actionå®Ÿè¡Œ]
    D --> E[ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆç”Ÿæˆ]
    E --> F[æ–‡å­—æ•°ãƒã‚§ãƒƒã‚¯]
    F --> G[PRã‚’è‡ªå‹•ä½œæˆ]
    G --> H[äººé–“ãŒãƒ¬ãƒ“ãƒ¥ãƒ¼]
    H --> I[ãƒãƒ¼ã‚¸ã—ã¦å®Œäº†]
```

ãƒã‚¤ãƒ³ãƒˆã¯ã€**å®Œå…¨è‡ªå‹•åŒ–ã§ã¯ãªãã€Œä¸‹æ›¸ãè‡ªå‹•ç”Ÿæˆï¼‹äººé–“ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€**ã«ã—ãŸã“ã¨ã€‚AIãŒç”Ÿæˆã—ãŸå†…å®¹ã‚’äººé–“ãŒç¢ºèªãƒ»ä¿®æ­£ã§ãã‚‹ãƒ•ãƒ­ãƒ¼ã«ã™ã‚‹ã“ã¨ã§ã€å“è³ªã‚’ä¿ã¡ã¤ã¤ä½œæ¥­æ™‚é–“ã‚’å¤§å¹…å‰Šæ¸›ã§ãã¾ã™ã€‚

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

ã“ã®è¨˜äº‹ã§ã¯ã€Claude Code CLIã‚’ä½¿ã£ãŸæœ€ã‚‚ç°¡å˜ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

### å‰ææ¡ä»¶

- Claude CodeãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹
- GitHubãƒªãƒã‚¸ãƒˆãƒªãŒã‚ã‚‹

### 1. Claude Code OAuth ãƒˆãƒ¼ã‚¯ãƒ³ã®è¨­å®š

Claude Codeã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ãã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œï¼š

```bash
/install-github-app
```

ã“ã®ã‚³ãƒãƒ³ãƒ‰ã§ä»¥ä¸‹ãŒè‡ªå‹•çš„ã«è¡Œã‚ã‚Œã¾ã™ï¼š
- GitHub App ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- ãƒªãƒã‚¸ãƒˆãƒªã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã®è¨­å®š
- `CLAUDE_CODE_OAUTH_TOKEN` ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã®è‡ªå‹•ä½œæˆ

å¯¾è©±çš„ã«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒé€²ã‚€ã®ã§ã€ç”»é¢ã®æŒ‡ç¤ºã«å¾“ã£ã¦ãã ã•ã„ã€‚

### 2. ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã®ä½œæˆ

Claude Codeã§ä»¥ä¸‹ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å®Ÿè¡Œï¼š

```
docs/release-notes-guideline.md ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚
ä»¥ä¸‹ã®å†…å®¹ã‚’å«ã‚ã¦ãã ã•ã„ï¼š
- App Storeç”¨ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã®æ›¸ãæ–¹ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³
- æŠ€è¡“ç”¨èªã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘è¡¨ç¾ã¸ã®å¤‰æ›ãƒ«ãƒ¼ãƒ«
- æ›¸ãã¹ãå†…å®¹ã¨æ›¸ã‹ãªã„å†…å®¹
- ãƒˆãƒ¼ãƒ³ï¼†ãƒãƒŠãƒ¼
- æ–‡å­—æ•°åˆ¶é™ï¼ˆæ¨å¥¨300-500æ–‡å­—ã€æœ€å¤§4000æ–‡å­—ï¼‰
```

ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã¾ã™ï¼š

```markdown
# ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆä½œæˆã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

## åŸºæœ¬æ–¹é‡
App Storeç”¨ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã¯ã€æŠ€è¡“çš„ãªå¤‰æ›´ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã®ä¾¡å€¤ã«å¤‰æ›ã—ã¦ä¼ãˆã‚‹æ–‡æ›¸ã§ã™ã€‚

## æ›¸ãã¹ãå†…å®¹
âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ãŒå¤‰ã‚ã‚‹ã“ã¨
âœ… æ“ä½œã‚„è¦‹ãŸç›®ã®å¤‰åŒ–
âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ï¼ˆä½“æ„Ÿã§ãã‚‹å ´åˆï¼‰
âœ… æ–°æ©Ÿèƒ½ã®è¿½åŠ 

## æ›¸ã‹ãªã„å†…å®¹
âŒ å†…éƒ¨å®Ÿè£…ã®å¤‰æ›´ï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å¤‰æ›´ï¼‰
âŒ ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®è¿½åŠ 
âŒ é–‹ç™ºç’°å¢ƒã®æ”¹å–„
âŒ ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ›´æ–°ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼å½±éŸ¿ãŒãªã„å ´åˆï¼‰
âŒ ãƒã‚°ä¿®æ­£ï¼ˆè»½å¾®ã§èª¬æ˜ä¸è¦ãªå ´åˆï¼‰

## æŠ€è¡“ç”¨èªã®å¤‰æ›ãƒ«ãƒ¼ãƒ«
| æŠ€è¡“çš„èª¬æ˜ | ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘è¡¨ç¾ |
|----------|----------------|
| WKWebViewäº‹å‰ãƒ­ãƒ¼ãƒ‰å®Ÿè£… | ã‚¿ãƒ–ã®åˆ‡ã‚Šæ›¿ãˆãŒé€Ÿããªã‚Šã¾ã—ãŸ |
| ViewControllerçŠ¶æ…‹ç®¡ç†æ”¹å–„ | æˆ»ã‚‹ãƒœã‚¿ãƒ³ã®å‹•ä½œãŒç¢ºå®Ÿã«ãªã‚Šã¾ã—ãŸ |
| Firebase Crashlyticsã®å°å…¥ | ã‚¢ãƒ—ãƒªã®å®‰å®šæ€§ãŒå‘ä¸Šã—ã¾ã—ãŸ |
| ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤ºçµ±ä¸€ | ç”»é¢é·ç§»ãŒåˆ†ã‹ã‚Šã‚„ã™ããªã‚Šã¾ã—ãŸ |
| æ¤œç´¢çµæœã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ”¹å–„ | æ¤œç´¢ãŒé€Ÿããªã‚Šã¾ã—ãŸ |
| @MainActoré©ç”¨ | ç”»é¢æ“ä½œãŒã‚¹ãƒ ãƒ¼ã‚ºã«ãªã‚Šã¾ã—ãŸ |

## ãƒˆãƒ¼ãƒ³ï¼†ãƒãƒŠãƒ¼
- **å‰å‘ãã§æ˜ã‚‹ã„**: ã€Œã‚µã‚¯ã‚µã‚¯ã€ã€Œã‚¹ãƒ ãƒ¼ã‚ºã€ã€Œå¿«é©ã€ãªã©ã®è¨€è‘‰ã‚’ä½¿ã†
- **å…±æ„Ÿã‚’è¾¼ã‚ã¦**: ã€Œã€œã«ãªã‚Šã¾ã—ãŸã€ã€Œã€œã„ãŸã ã‘ã¾ã™ã€
- **è¬™è™šã•ã¨è‡ªä¿¡ã®ãƒãƒ©ãƒ³ã‚¹**: éåº¦ãªèª‡å¼µã¯é¿ã‘ã‚‹ãŒã€æ”¹å–„ã‚’æ˜ç¢ºã«ä¼ãˆã‚‹

## æ–‡å­—æ•°åˆ¶é™
- **æ¨å¥¨**: 300-500æ–‡å­—ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒèª­ã¿ã‚„ã™ã„é•·ã•ï¼‰
- **æœ€å¤§**: 4000æ–‡å­—ï¼ˆApp Storeåˆ¶é™ï¼‰

## æ§‹æˆä¾‹

ã‚¢ãƒ—ãƒªã‚’ã”åˆ©ç”¨ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚

ã€æ–°æ©Ÿèƒ½ã€‘
ãƒ»ã€‡ã€‡æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¾ã—ãŸ

ã€æ”¹å–„ã€‘
ãƒ»â–³â–³ãŒé€Ÿããªã‚Šã¾ã—ãŸ
ãƒ»â–¡â–¡ã®å‹•ä½œãŒç¢ºå®Ÿã«ãªã‚Šã¾ã—ãŸ

ä»Šå¾Œã‚‚ã‚ˆã‚Šè‰¯ã„ã‚µãƒ¼ãƒ“ã‚¹ã‚’ã”æä¾›ã§ãã‚‹ã‚ˆã†æ”¹å–„ã—ã¦ã„ãã¾ã™ï¼


## å®Ÿä¾‹é›†

### è‰¯ã„ä¾‹ âœ…

ã€æ”¹å–„ã€‘
ãƒ»ã‚¿ãƒ–ã®åˆ‡ã‚Šæ›¿ãˆãŒé€Ÿããªã‚Šã¾ã—ãŸã€‚
  æ¤œç´¢çµæœã¨ãƒã‚¹æƒ…å ±ã‚’ã‚µã‚¯ã‚µã‚¯è¦‹ã‚‰ã‚Œã¾ã™ã€‚
ãƒ»æˆ»ã‚‹ãƒœã‚¿ãƒ³ã®å‹•ä½œãŒç¢ºå®Ÿã«ãªã‚Šã¾ã—ãŸã€‚
  å‰ã®ç”»é¢ã«ã‚¹ãƒ ãƒ¼ã‚ºã«æˆ»ã‚Œã¾ã™ã€‚


### æ‚ªã„ä¾‹ âŒ

ã€æ”¹å–„ã€‘
ãƒ»WKWebViewã®äº‹å‰ãƒ­ãƒ¼ãƒ‰ã‚’å®Ÿè£…ã—ã¾ã—ãŸ
ãƒ»ViewControllerã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†ã‚’æœ€é©åŒ–

â†’ æŠ€è¡“ç”¨èªãŒæ®‹ã£ã¦ãŠã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ä¼ã‚ã‚‰ãªã„
```

**ãƒã‚¤ãƒ³ãƒˆ**: ã“ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã‚„æ–‡è¨€ã®ãƒˆãƒ¼ãƒ³ã«å¿œã˜ã¦ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¦ãã ã•ã„ã€‚å…·ä½“çš„ãªå¤‰æ›ä¾‹ã‚’å¤šæ•°ç”¨æ„ã™ã‚‹ã“ã¨ã§ã€AIãŒä¸€è²«ã—ãŸå“è³ªã®ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã§ãã¾ã™ã€‚

### 3. GitHub Actionsãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ä½œæˆ

Claude Codeã§ä»¥ä¸‹ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å®Ÿè¡Œï¼š

```
.github/workflows/release-notes.yml ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

è¦ä»¶ï¼š
- release/ ã§å§‹ã¾ã‚‹ãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰developã¸ã®PRä½œæˆæ™‚ã«è‡ªå‹•å®Ÿè¡Œ
- å‰å›ã®ã‚¿ã‚°ã‹ã‚‰ç¾åœ¨ã¾ã§ã®ã‚³ãƒŸãƒƒãƒˆå±¥æ­´ã‚’åé›†
- docs/release-notes-guideline.md ã‚’å‚ç…§ã—ã¦ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆ
- Claude Code Action (@anthropics/claude-code-action@v1) ã‚’ä½¿ç”¨
- ç”Ÿæˆã—ãŸãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã‚’ metadata/release_notes.txt ã«ä¿å­˜
- æ–‡å­—æ•°ãƒã‚§ãƒƒã‚¯ï¼ˆ100-4000æ–‡å­—ã€æ¨å¥¨300-500æ–‡å­—ï¼‰
- peter-evans/create-pull-request@v7 ã§PRã‚’è‡ªå‹•ä½œæˆ
```

**Fastlaneãªã©ã§ãƒªãƒªãƒ¼ã‚¹ãƒ•ãƒ­ãƒ¼ã‚’è‡ªå‹•åŒ–ã—ã¦ã„ã‚‹å ´åˆã¯ã€æŒ‡å®šã®ãƒ‘ã‚¹ã¸å¤‰æ›´ã™ã‚‹ã¨ã‚ˆã‚Šåˆ©ä¾¿æ€§ãŒå‘ä¸Šã—ã¾ã™ã€‚**

Claude CodeãŒè‡ªå‹•çš„ã«ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã—ã¾ã™ã€‚
ç”Ÿæˆã•ã‚ŒãŸã§ã‚ã‚ã†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®é‡è¦éƒ¨åˆ†ã‚’ä¾‹ã«åŸºã¥ãè§£èª¬ã—ã¾ã™ï¼š

#### ãƒˆãƒªã‚¬ãƒ¼è¨­å®š
```yaml
on:
  pull_request:
    types: [opened, synchronize]
    branches:
      - develop
  workflow_dispatch:  # æ‰‹å‹•å®Ÿè¡Œã‚‚å¯èƒ½ã«
```

`release/` ã§å§‹ã¾ã‚‹ãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰developã¸ã®PRä½œæˆæ™‚ã«è‡ªå‹•å®Ÿè¡Œã€‚ã¾ãŸã€æ‰‹å‹•å®Ÿè¡Œã‚‚ã‚µãƒãƒ¼ãƒˆã€‚

#### ã‚³ãƒŸãƒƒãƒˆå±¥æ­´ã®åé›†
```yaml
- name: Collect commit information
  run: |
    # å‰å›ã®ã‚¿ã‚°ã‹ã‚‰ç¾åœ¨ã¾ã§ã®ã‚³ãƒŸãƒƒãƒˆå±¥æ­´ã‚’å–å¾—
    git log "$RANGE" --pretty=format:"- %s (%h)" > commit_info.md
    # ãƒãƒ¼ã‚¸ã•ã‚ŒãŸPRã‚‚åˆ¥é€”å–å¾—
    git log "$RANGE" --merges --pretty=format:"- %s (%h)" >> commit_info.md
```

é€šå¸¸ã®ã‚³ãƒŸãƒƒãƒˆã ã‘ã§ãªãã€ãƒãƒ¼ã‚¸ã‚³ãƒŸãƒƒãƒˆï¼ˆPRã‚¿ã‚¤ãƒˆãƒ«ï¼‰ã‚‚å–å¾—ã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šæ„å‘³ã®ã‚ã‚‹æƒ…å ±ã‚’AIã«æ¸¡ã›ã¾ã™ã€‚

#### Claude Code Actionã®å®Ÿè¡Œ
```yaml
- name: Generate release notes with Claude Code
  uses: anthropics/claude-code-action@v1
  with:
    claude_code_oauth_token: ${{ secrets.CLAUDE_CODE_OAUTH_TOKEN }}
    claude_args: '--allowed-tools "Write,Read"'
    prompt: |
      ## ã‚¿ã‚¹ã‚¯

      `docs/release-notes-guideline.md` ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã«å¾“ã£ã¦ã€
      ãƒãƒ¼ã‚¸ãƒ§ãƒ³${{ steps.vars.outputs.new_version }}ã®ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã‚’ä½œæˆã—ã€
      `metadata/release_notes.txt` ã«ä¿å­˜ã—ã¦ãã ã•ã„ã€‚

      ## å¤‰æ›´æƒ…å ±

      - å‰å›ãƒãƒ¼ã‚¸ãƒ§ãƒ³: ${{ steps.vars.outputs.previous_tag || 'ãªã—' }}
      - æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³: ${{ steps.vars.outputs.new_version }}

      ## ã‚³ãƒŸãƒƒãƒˆå±¥æ­´

      ${{ env.COMMIT_INFO }}

      ## é‡è¦ãªæŒ‡ç¤º

      - ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯**ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã®å†…å®¹ã®ã¿**ã‚’æ›¸ãè¾¼ã‚€
      - App Storeç”¨ï¼š300-500æ–‡å­—æ¨å¥¨ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã€å‰å‘ããªãƒˆãƒ¼ãƒ³
      - å†…éƒ¨å®Ÿè£…ã®å¤‰æ›´ã¯å«ã‚ãªã„
      - ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã®å®Ÿä¾‹ã‚’å‚è€ƒã«ã™ã‚‹
```

**ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆã®ãƒã‚¤ãƒ³ãƒˆ**ï¼š
1. ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³æ–‡æ›¸ã¸ã®ç›´æ¥å‚ç…§ã§å“è³ªã‚’æ‹…ä¿
2. åˆ¶ç´„æ¡ä»¶ã‚’æ˜ç¢ºåŒ–ï¼ˆæ–‡å­—æ•°ã€ãƒˆãƒ¼ãƒ³ã€å¯¾è±¡èª­è€…ï¼‰
3. ã‚³ãƒŸãƒƒãƒˆå±¥æ­´ã‚’æä¾›ã—ã¦æŠ€è¡“â†’ä¾¡å€¤å¤‰æ›ã®ææ–™ã‚’ä¸ãˆã‚‹

#### æ–‡å­—æ•°ãƒã‚§ãƒƒã‚¯
```yaml
- name: Verify release notes
  run: |
    CHAR_COUNT=$(wc -m < "$RELEASE_NOTES_FILE" | tr -d ' ')

    if [ "$CHAR_COUNT" -lt 100 ]; then
      echo "::error::Release notes too short"
      exit 1
    fi

    if [ "$CHAR_COUNT" -gt 4000 ]; then
      echo "::error::Exceeds App Store limit"
      exit 1
    fi

    if [ "$CHAR_COUNT" -gt 500 ]; then
      echo "::warning::Exceeds recommended length"
    fi
```

App Storeåˆ¶é™ï¼ˆ4000æ–‡å­—ï¼‰ã¨æ¨å¥¨ç¯„å›²ï¼ˆ300-500æ–‡å­—ï¼‰ã‚’è‡ªå‹•ãƒã‚§ãƒƒã‚¯ã€‚æ¨å¥¨ç¯„å›²ã‚’è¶…ãˆãŸå ´åˆã¯è­¦å‘Šã‚’å‡ºã—ã¾ã™ãŒã€ã‚¨ãƒ©ãƒ¼ã«ã¯ã—ã¾ã›ã‚“ã€‚

#### PRã®è‡ªå‹•ä½œæˆ
```yaml
- name: Create Pull Request
  uses: peter-evans/create-pull-request@v7
  with:
    base: ${{ github.head_ref }}
    title: "ğŸ“ ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆè‡ªå‹•ç”Ÿæˆ: v${{ steps.vars.outputs.new_version }}"
    body: |
      ### ç¢ºèªäº‹é …
      - [ ] ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã®å†…å®¹ãŒé©åˆ‡ã‹
      - [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã®ä¾¡å€¤ãŒæ˜ç¢ºã‹
      - [ ] å°‚é–€ç”¨èªã‚’ä½¿ã£ã¦ã„ãªã„ã‹
      - [ ] ãƒˆãƒ¼ãƒ³ãŒå‰å‘ãã§æ˜ã‚‹ã„ã‹
      - [ ] æ–‡å­—æ•°ãŒ300-500æ–‡å­—ã®ç¯„å›²å†…ã‹
```

ç”Ÿæˆã•ã‚ŒãŸãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã‚’PRã¨ã—ã¦ä½œæˆã€‚ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã‚’ç”¨æ„ã™ã‚‹ã“ã¨ã§ã€ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹ã‚’æ˜ç¢ºåŒ–ã€‚

## å®Ÿéš›ã®ç”Ÿæˆä¾‹

### Beforeï¼ˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢è¦–ç‚¹ã®ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‰

```
- feat: WKWebViewäº‹å‰ãƒ­ãƒ¼ãƒ‰å®Ÿè£… (#123)
- fix: ViewControllerçŠ¶æ…‹ç®¡ç†æ”¹å–„ (#124)
- chore: Firebase Crashlyticsçµ±åˆ (#125)
- refactor: Combineå¯¾å¿œ (#126)
```

### Afterï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã®ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆ - AIç”Ÿæˆï¼‰

```
ã‚¢ãƒ—ãƒªã‚’ã”åˆ©ç”¨ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚

ã€æ”¹å–„ã€‘
ãƒ»ã‚¿ãƒ–ã®åˆ‡ã‚Šæ›¿ãˆãŒé€Ÿããªã‚Šã¾ã—ãŸã€‚
  æ¤œç´¢çµæœã¨ãƒã‚¹æƒ…å ±ã‚’ã‚µã‚¯ã‚µã‚¯è¦‹ã‚‰ã‚Œã¾ã™ã€‚
ãƒ»æˆ»ã‚‹ãƒœã‚¿ãƒ³ã®å‹•ä½œãŒç¢ºå®Ÿã«ãªã‚Šã¾ã—ãŸã€‚
  å‰ã®ç”»é¢ã«ã‚¹ãƒ ãƒ¼ã‚ºã«æˆ»ã‚Œã¾ã™ã€‚
ãƒ»ã‚¢ãƒ—ãƒªã®å®‰å®šæ€§ãŒå‘ä¸Šã—ã¾ã—ãŸã€‚
  ã‚ˆã‚Šå¿«é©ã«ã”åˆ©ç”¨ã„ãŸã ã‘ã¾ã™ã€‚

ä»Šå¾Œã‚‚ã‚ˆã‚Šè‰¯ã„ã‚µãƒ¼ãƒ“ã‚¹ã‚’ã”æä¾›ã§ãã‚‹ã‚ˆã†
æ”¹å–„ã—ã¦ã„ãã¾ã™ï¼
```

**æ–‡å­—æ•°**: 162æ–‡å­—ï¼ˆæ¨å¥¨ç¯„å›²å†…ï¼‰

æ³¨ç›®ã™ã¹ãã¯ï¼š
- æŠ€è¡“ç”¨èªãŒå®Œå…¨ã«æ¶ˆãˆã¦ã„ã‚‹
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¾¡å€¤ã«å¤‰æ›ã•ã‚Œã¦ã„ã‚‹
- ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ï¼ˆCombineå¯¾å¿œï¼‰ã¯å«ã¾ã‚Œã¦ã„ãªã„
- ãƒˆãƒ¼ãƒ³ãŒå‰å‘ãã§è¦ªã—ã¿ã‚„ã™ã„

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### âŒ ã€Œãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆãŒç”Ÿæˆã•ã‚Œãªã„ã€

**åŸå› **: Claude Code ActionãŒæ­£ã—ãå®Ÿè¡Œã•ã‚Œã¦ã„ãªã„

**å¯¾å‡¦æ³•**:
1. `CLAUDE_CODE_OAUTH_TOKEN` ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
2. `claude_args` ã§è¨±å¯ã—ã¦ã„ã‚‹ãƒ„ãƒ¼ãƒ«ã« `Write,Read` ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
3. GitHub Actionsã®ãƒ­ã‚°ã§è©³ç´°ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèª

### âŒ ã€ŒæŠ€è¡“ç”¨èªãŒãã®ã¾ã¾å‡ºåŠ›ã•ã‚Œã‚‹ã€

**åŸå› **: ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã®å¤‰æ›ãƒ«ãƒ¼ãƒ«ãŒä¸è¶³ã—ã¦ã„ã‚‹

**å¯¾å‡¦æ³•**:
1. `docs/release-notes-guideline.md` ã«å…·ä½“çš„ãªå¤‰æ›ä¾‹ã‚’è¿½åŠ 
2. NGãƒ¯ãƒ¼ãƒ‰ãƒªã‚¹ãƒˆï¼ˆä½¿ã£ã¦ã»ã—ããªã„æŠ€è¡“ç”¨èªï¼‰ã‚’æ˜ç¤º
3. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ã€Œå°‚é–€ç”¨èªã‚’é¿ã‘ã‚‹ã€æŒ‡ç¤ºã‚’å¼·èª¿

### âŒ ã€Œæ–‡å­—æ•°ãŒå¤šã™ãã‚‹/å°‘ãªã™ãã‚‹ã€

**åŸå› **: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®åˆ¶ç´„æ¡ä»¶ãŒå¼±ã„

**å¯¾å‡¦æ³•**:
1. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§æ–‡å­—æ•°ç¯„å›²ã‚’å¼·èª¿ï¼ˆã€Œ300-500æ–‡å­—å³å®ˆã€ãªã©ï¼‰
2. ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã«æ–‡å­—æ•°ã®å®Ÿä¾‹ã‚’è¿½åŠ 
3. ç”Ÿæˆå¾Œã«æ‰‹å‹•ã§èª¿æ•´ï¼ˆPRãƒ¬ãƒ“ãƒ¥ãƒ¼æ™‚ï¼‰

### âŒ ã€Œå†…éƒ¨å®Ÿè£…ã®å¤‰æ›´ãŒå«ã¾ã‚Œã‚‹ã€

**åŸå› **: ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«æŠ€è¡“çš„ãªæƒ…å ±ãŒå¤šã™ãã‚‹

**å¯¾å‡¦æ³•**:
1. ãƒãƒ¼ã‚¸ã‚³ãƒŸãƒƒãƒˆï¼ˆPRã‚¿ã‚¤ãƒˆãƒ«ï¼‰ã‚’å„ªå…ˆçš„ã«ä½¿ç”¨
2. ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã§ã€Œæ›¸ã‹ãªã„å†…å®¹ã€ã‚’æ˜ç¢ºåŒ–
3. ã‚³ãƒŸãƒƒãƒˆå±¥æ­´åé›†æ™‚ã« `--merges` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ã†

## ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### â‘  ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³æ–‡æ›¸ã¸ã®å‚ç…§

```text
`docs/release-notes-guideline.md` ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã«å¾“ã£ã¦ä½œæˆã—ã¦ãã ã•ã„
```

**åŠ¹æœ**: AIã«ç›´æ¥ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’èª­ã¾ã›ã‚‹ã“ã¨ã§ã€ä¸€è²«ã—ãŸå“è³ªã‚’ç¶­æŒã€‚ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè‡ªä½“ã¯çŸ­ãä¿ã¦ã‚‹ã€‚

### â‘¡ åˆ¶ç´„æ¡ä»¶ã®æ˜ç¢ºåŒ–

```text
## é‡è¦ãªæŒ‡ç¤º

- ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯**ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã®å†…å®¹ã®ã¿**ã‚’æ›¸ãè¾¼ã‚€
- App Storeç”¨ï¼š300-500æ–‡å­—æ¨å¥¨ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã€å‰å‘ããªãƒˆãƒ¼ãƒ³
- å†…éƒ¨å®Ÿè£…ã®å¤‰æ›´ã¯å«ã‚ãªã„
```

**åŠ¹æœ**: ä½™è¨ˆãªè£…é£¾ã‚„èª¬æ˜ã‚’çœãã€ç´”ç²‹ãªãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆæœ¬æ–‡ã®ã¿ã‚’ç”Ÿæˆã€‚

### â‘¢ Prefixã§ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®æä¾›

```text
## ã‚³ãƒŸãƒƒãƒˆå±¥æ­´

- feat: ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆã®é«˜é€ŸåŒ– (#123)
- fix: æˆ»ã‚‹ãƒœã‚¿ãƒ³ã®å‹•ä½œä¿®æ­£ (#124)
```

**åŠ¹æœ**: æŠ€è¡“çš„å¤‰æ›´ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¾¡å€¤ã«å¤‰æ›ã™ã‚‹ææ–™ã‚’æä¾›ã€‚

## App Storeç‰ˆã¨GitHub Releasesç‰ˆã®ä½¿ã„åˆ†ã‘

åŒã˜ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§2ç¨®é¡ã®ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚

| é …ç›® | App Storeç‰ˆ | GitHub Releasesç‰ˆ |
|-----|------------|------------------|
| **å¯¾è±¡èª­è€…** | ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ | é–‹ç™ºè€…ãƒ»ãƒ‘ãƒ¯ãƒ¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ |
| **ãƒˆãƒ¼ãƒ³** | è¦ªã—ã¿ã‚„ã™ã | ã‚„ã‚„æŠ€è¡“çš„ã§ã‚‚OK |
| **å†…å®¹** | ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å¤‰åŒ–ã®ã¿ | æŠ€è¡“çš„ãªè©³ç´°ã‚‚å«ã‚€ |
| **æ–‡å­—æ•°** | 300-500æ–‡å­—æ¨å¥¨ | åˆ¶é™ãªã— |
| **å°‚é–€ç”¨èª** | å®Œå…¨ã«é¿ã‘ã‚‹ | é©åº¦ã«ä½¿ç”¨å¯ |
| **å†…éƒ¨æ”¹å–„** | æ›¸ã‹ãªã„ | æ›¸ãï¼ˆInternalã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼‰ |
| **PR/ã‚³ãƒŸãƒƒãƒˆå‚ç…§** | ä¸è¦ | æ¨å¥¨ï¼ˆãƒªãƒ³ã‚¯ä»˜ãï¼‰ |

å®Ÿè£…ä¾‹ï¼š
```yaml
# App Storeç”¨
- name: Generate App Store release notes
  uses: anthropics/claude-code-action@v1
  with:
    prompt: |
      App Storeç”¨ã®ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã‚’ä½œæˆï¼ˆ300-500æ–‡å­—ã€ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ï¼‰

# GitHub Releasesç”¨
- name: Generate GitHub release notes
  uses: anthropics/claude-code-action@v1
  with:
    prompt: |
      GitHub Releasesç”¨ã®ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã‚’ä½œæˆï¼ˆæŠ€è¡“çš„è©³ç´°å«ã‚€ã€é–‹ç™ºè€…å‘ã‘ï¼‰
```

## ã¾ã¨ã‚

ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆä½œæˆã®è‡ªå‹•åŒ–ã§ã€ä»¥ä¸‹ãŒå®Ÿç¾ã§ãã¾ã—ãŸï¼š

- **ä½œæ¥­è² æ‹…è»½æ¸›**: å¤‰æ›´å·®åˆ†ã‹ã‚‰è‡ªå‹•ã§ä¸‹æ›¸ãç”Ÿæˆã€ãƒ¬ãƒ“ãƒ¥ãƒ¼ã ã‘ã§å®Œæˆ
- **å“è³ªã®ä¸€è²«æ€§**: ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³æ–‡æ›¸ã§èª°ãŒæ›¸ã„ã¦ã‚‚åŒã˜ã‚¯ã‚ªãƒªãƒ†ã‚£
- **å±äººåŒ–è§£æ¶ˆ**: æŠ€è¡“ç”¨èªã®ç¿»è¨³ãƒ«ãƒ¼ãƒ«ã‚’å…±æœ‰ãƒ»è“„ç©ã§ãã‚‹

ãƒã‚¤ãƒ³ãƒˆã¯ã€Œå®Œå…¨è‡ªå‹•åŒ–ã§ã¯ãªãã€ä¸‹æ›¸ãè‡ªå‹•ç”Ÿæˆï¼‹äººé–“ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€ã«ã—ãŸã“ã¨ã€‚AIãŒå¾—æ„ãªã€ŒæŠ€è¡“ç”¨èªã®ç¿»è¨³ã€ã¨äººé–“ãŒå¾—æ„ãªã€Œæœ€çµ‚åˆ¤æ–­ã€ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€å®Ÿç”¨çš„ãªè‡ªå‹•åŒ–ã‚’å®Ÿç¾ã§ãã¾ã™ã€‚

æ¯å›åŒã˜ã‚ˆã†ãªä½œæ¥­ã‚’ç¹°ã‚Šè¿”ã—ã¦ã„ã‚‹æ–¹ã¯ã€ãœã²è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

## å®Œå…¨ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«

è¨˜äº‹å†…ã§æŠœç²‹ã—ãŸéƒ¨åˆ†ã‚’å«ã‚€ã€å®Œå…¨ãª `.github/workflows/release-notes.yml` ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š

```yaml
name: Generate Release Notes

on:
  pull_request:
    types: [opened, synchronize]
    branches:
      - develop
  workflow_dispatch:
    inputs:
      previous_tag:
        description: 'å‰å›ã®ã‚¿ã‚°ï¼ˆä¾‹: 1.0.0ï¼‰'
        required: true
      new_version:
        description: 'æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆä¾‹: 1.1.0ï¼‰'
        required: true

jobs:
  generate-release-notes:
    # release/**ãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰ã®PRã¾ãŸã¯æ‰‹å‹•å®Ÿè¡Œã®ã¿
    if: |
      github.event_name == 'workflow_dispatch' ||
      (github.event_name == 'pull_request' && startsWith(github.head_ref, 'release/'))
    runs-on: ubuntu-latest
    permissions:
      contents: write
      pull-requests: write
      id-token: write

    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        with:
          ref: ${{ github.head_ref }}
          fetch-depth: 0  # å…¨å±¥æ­´å–å¾—ã§git logã‚’ä½¿ç”¨å¯èƒ½ã«

      - name: Setup variables
        id: vars
        run: |
          # æœ€æ–°ã®ã‚¿ã‚°ã‚’å–å¾—
          PREVIOUS_TAG=$(git describe --tags --abbrev=0 2>/dev/null || echo "")
          echo "previous_tag=$PREVIOUS_TAG" >> $GITHUB_OUTPUT

          # ãƒ–ãƒ©ãƒ³ãƒåã‹ã‚‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŠ½å‡ºï¼ˆä¾‹: release/1.1.0 â†’ 1.1.0ï¼‰
          BRANCH_NAME="${{ github.head_ref }}"
          NEW_VERSION="${BRANCH_NAME#release/}"
          echo "new_version=$NEW_VERSION" >> $GITHUB_OUTPUT

      - name: Collect commit information
        id: commits
        run: |
          if [ -n "${{ steps.vars.outputs.previous_tag }}" ]; then
            RANGE="${{ steps.vars.outputs.previous_tag }}..HEAD"
          else
            RANGE="HEAD"
          fi

          # ã‚³ãƒŸãƒƒãƒˆå±¥æ­´ã‚’åé›†
          {
            echo "## ã‚³ãƒŸãƒƒãƒˆå±¥æ­´"
            echo ""
            git log "$RANGE" --pretty=format:"- %s (%h)"
            echo ""
            echo "## ãƒãƒ¼ã‚¸ã•ã‚ŒãŸPR"
            echo ""
            git log "$RANGE" --merges --pretty=format:"- %s (%h)"
          } > commit_info.md

      - name: Load commit info
        id: load_content
        run: |
          {
            echo 'COMMIT_INFO<<EOF_COMMIT'
            cat commit_info.md
            echo 'EOF_COMMIT'
          } >> $GITHUB_ENV

      - name: Generate release notes with Claude Code
        uses: anthropics/claude-code-action@v1
        env:
          COMMIT_INFO: ${{ env.COMMIT_INFO }}
        with:
          claude_code_oauth_token: ${{ secrets.CLAUDE_CODE_OAUTH_TOKEN }}
          claude_args: '--allowed-tools "Write,Read"'
          prompt: |
            ## ã‚¿ã‚¹ã‚¯

            `docs/release-notes-guideline.md` ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã«å¾“ã£ã¦ã€
            ãƒãƒ¼ã‚¸ãƒ§ãƒ³${{ steps.vars.outputs.new_version }}ã®ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã‚’ä½œæˆã—ã€
            `metadata/release_notes.txt` ã«ä¿å­˜ã—ã¦ãã ã•ã„ã€‚

            ## å¤‰æ›´æƒ…å ±

            - å‰å›ãƒãƒ¼ã‚¸ãƒ§ãƒ³: ${{ steps.vars.outputs.previous_tag || 'ãªã—' }}
            - æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³: ${{ steps.vars.outputs.new_version }}

            ## ã‚³ãƒŸãƒƒãƒˆå±¥æ­´

            ${{ env.COMMIT_INFO }}

            ## é‡è¦ãªæŒ‡ç¤º

            - ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯**ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã®å†…å®¹ã®ã¿**ã‚’æ›¸ãè¾¼ã‚€
            - App Storeç”¨ï¼š300-500æ–‡å­—æ¨å¥¨ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã€å‰å‘ããªãƒˆãƒ¼ãƒ³
            - å†…éƒ¨å®Ÿè£…ã®å¤‰æ›´ã¯å«ã‚ãªã„
            - ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã®å®Ÿä¾‹ã‚’å‚è€ƒã«ã™ã‚‹

      - name: Verify release notes
        run: |
          RELEASE_NOTES_FILE="metadata/release_notes.txt"

          if [ ! -f "$RELEASE_NOTES_FILE" ]; then
            echo "Error: $RELEASE_NOTES_FILE was not created"
            exit 1
          fi

          CHAR_COUNT=$(wc -m < "$RELEASE_NOTES_FILE" | tr -d ' ')
          echo "Generated release notes: $CHAR_COUNT characters"

          if [ "$CHAR_COUNT" -lt 100 ]; then
            echo "::error::Release notes too short ($CHAR_COUNT chars)"
            exit 1
          fi

          if [ "$CHAR_COUNT" -gt 4000 ]; then
            echo "::error::Exceeds App Store limit ($CHAR_COUNT chars)"
            exit 1
          fi

          if [ "$CHAR_COUNT" -gt 500 ]; then
            echo "::warning::Exceeds recommended length ($CHAR_COUNT chars)"
          fi

      - name: Create Pull Request
        uses: peter-evans/create-pull-request@v7
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          base: ${{ github.head_ref }}
          commit-message: "chore: ãƒãƒ¼ã‚¸ãƒ§ãƒ³${{ steps.vars.outputs.new_version }}ã®ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã‚’è‡ªå‹•ç”Ÿæˆ"
          branch: auto-release-notes-${{ steps.vars.outputs.new_version }}
          title: "ğŸ“ ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆè‡ªå‹•ç”Ÿæˆ: v${{ steps.vars.outputs.new_version }}"
          body: |
            ## ğŸ“ ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆè‡ªå‹•ç”Ÿæˆ

            ãƒãƒ¼ã‚¸ãƒ§ãƒ³${{ steps.vars.outputs.new_version }}ã®ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã‚’
            Claude Codeã§è‡ªå‹•ç”Ÿæˆã—ã¾ã—ãŸã€‚

            ### ç¢ºèªäº‹é …
            - [ ] ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã®å†…å®¹ãŒé©åˆ‡ã‹
            - [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã®ä¾¡å€¤ãŒæ˜ç¢ºã‹
            - [ ] å°‚é–€ç”¨èªã‚’ä½¿ã£ã¦ã„ãªã„ã‹
            - [ ] ãƒˆãƒ¼ãƒ³ãŒå‰å‘ãã§æ˜ã‚‹ã„ã‹
            - [ ] æ–‡å­—æ•°ãŒ300-500æ–‡å­—ã®ç¯„å›²å†…ã‹
          labels: |
            automation
            release
```
